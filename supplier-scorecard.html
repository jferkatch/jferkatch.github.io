<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Supplier Scorecard System</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/recharts@2.5.0/dist/Recharts.js"></script>
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
        }
        #root {
            width: 100%;
            min-height: 100vh;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;
        const { BarChart, Bar, LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer, RadarChart, PolarGrid, PolarAngleAxis, PolarRadiusAxis, Radar, Legend } = Recharts;

        // Lucide icon components (simplified)
        const TrendingUp = ({ size = 24, color = "currentColor" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke={color} strokeWidth="2">
                <polyline points="23 6 13.5 15.5 8.5 10.5 1 18"/>
                <polyline points="17 6 23 6 23 12"/>
            </svg>
        );

        const TrendingDown = ({ size = 24, color = "currentColor" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke={color} strokeWidth="2">
                <polyline points="23 18 13.5 8.5 8.5 13.5 1 6"/>
                <polyline points="17 18 23 18 23 12"/>
            </svg>
        );

        const AlertTriangle = ({ size = 24, color = "currentColor" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke={color} strokeWidth="2">
                <path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"/>
                <line x1="12" y1="9" x2="12" y2="13"/>
                <line x1="12" y1="17" x2="12.01" y2="17"/>
            </svg>
        );

        const CheckCircle = ({ size = 24, color = "currentColor" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke={color} strokeWidth="2">
                <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/>
                <polyline points="22 4 12 14.01 9 11.01"/>
            </svg>
        );

        const Star = ({ size = 24, color = "currentColor" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke={color} strokeWidth="2">
                <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/>
            </svg>
        );

        const Award = ({ size = 24, color = "currentColor" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke={color} strokeWidth="2">
                <circle cx="12" cy="8" r="7"/>
                <polyline points="8.21 13.89 7 23 12 20 17 23 15.79 13.88"/>
            </svg>
        );

        const Filter = ({ size = 24, color = "currentColor" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke={color} strokeWidth="2">
                <polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"/>
            </svg>
        );

        const Search = ({ size = 24, color = "currentColor" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke={color} strokeWidth="2">
                <circle cx="11" cy="11" r="8"/>
                <line x1="21" y1="21" x2="16.65" y2="16.65"/>
            </svg>
        );

        // Mock storage for GitHub Pages (since window.storage won't exist)
        const mockStorage = {
            data: {},
            async get(key) {
                return this.data[key] ? { key, value: this.data[key], shared: false } : null;
            },
            async set(key, value) {
                this.data[key] = value;
                return { key, value, shared: false };
            },
            async delete(key) {
                delete this.data[key];
                return { key, deleted: true, shared: false };
            },
            async list(prefix) {
                const keys = Object.keys(this.data).filter(k => !prefix || k.startsWith(prefix));
                return { keys, prefix, shared: false };
            }
        };

        // Use mock storage if window.storage doesn't exist
        if (typeof window.storage === 'undefined') {
            window.storage = mockStorage;
        }

        // Initial supplier data
        const initialSuppliers = [
          {
            id: 1,
            name: "TechCore Systems",
            industry: "Electronics",
            tier: "Strategic",
            totalSpend: 2450000,
            scores: {
              quality: 92,
              delivery: 88,
              price: 85,
              responsiveness: 94,
              compliance: 90
            },
            trend: "up",
            riskLevel: "low",
            lastReview: "2025-01-05",
            performanceHistory: [
              { month: "Jul", score: 86 },
              { month: "Aug", score: 87 },
              { month: "Sep", score: 88 },
              { month: "Oct", score: 89 },
              { month: "Nov", score: 90 },
              { month: "Dec", score: 89 }
            ]
          },
          {
            id: 2,
            name: "Global Logistics Inc",
            industry: "Transportation",
            tier: "Preferred",
            totalSpend: 890000,
            scores: {
              quality: 78,
              delivery: 95,
              price: 82,
              responsiveness: 88,
              compliance: 85
            },
            trend: "up",
            riskLevel: "low",
            lastReview: "2025-01-08",
            performanceHistory: [
              { month: "Jul", score: 82 },
              { month: "Aug", score: 83 },
              { month: "Sep", score: 84 },
              { month: "Oct", score: 85 },
              { month: "Nov", score: 86 },
              { month: "Dec", score: 86 }
            ]
          },
          {
            id: 3,
            name: "Pacific Manufacturing",
            industry: "Manufacturing",
            tier: "Strategic",
            totalSpend: 3200000,
            scores: {
              quality: 72,
              delivery: 68,
              price: 91,
              responsiveness: 70,
              compliance: 75
            },
            trend: "down",
            riskLevel: "medium",
            lastReview: "2024-12-28",
            performanceHistory: [
              { month: "Jul", score: 82 },
              { month: "Aug", score: 80 },
              { month: "Sep", score: 78 },
              { month: "Oct", score: 76 },
              { month: "Nov", score: 74 },
              { month: "Dec", score: 75 }
            ]
          },
          {
            id: 4,
            name: "Apex Raw Materials",
            industry: "Raw Materials",
            tier: "Approved",
            totalSpend: 1560000,
            scores: {
              quality: 88,
              delivery: 90,
              price: 76,
              responsiveness: 85,
              compliance: 92
            },
            trend: "stable",
            riskLevel: "low",
            lastReview: "2025-01-10",
            performanceHistory: [
              { month: "Jul", score: 86 },
              { month: "Aug", score: 86 },
              { month: "Sep", score: 87 },
              { month: "Oct", score: 86 },
              { month: "Nov", score: 87 },
              { month: "Dec", score: 86 }
            ]
          },
          {
            id: 5,
            name: "Digital Solutions Pro",
            industry: "Software/IT",
            tier: "Strategic",
            totalSpend: 980000,
            scores: {
              quality: 96,
              delivery: 92,
              price: 79,
              responsiveness: 97,
              compliance: 94
            },
            trend: "up",
            riskLevel: "low",
            lastReview: "2025-01-09",
            performanceHistory: [
              { month: "Jul", score: 89 },
              { month: "Aug", score: 90 },
              { month: "Sep", score: 91 },
              { month: "Oct", score: 92 },
              { month: "Nov", score: 93 },
              { month: "Dec", score: 93 }
            ]
          },
          {
            id: 6,
            name: "BuildRight Construction",
            industry: "Construction",
            tier: "Approved",
            totalSpend: 720000,
            scores: {
              quality: 81,
              delivery: 76,
              price: 88,
              responsiveness: 79,
              compliance: 83
            },
            trend: "stable",
            riskLevel: "medium",
            lastReview: "2025-01-03",
            performanceHistory: [
              { month: "Jul", score: 81 },
              { month: "Aug", score: 81 },
              { month: "Sep", score: 80 },
              { month: "Oct", score: 81 },
              { month: "Nov", score: 82 },
              { month: "Dec", score: 82 }
            ]
          },
          {
            id: 7,
            name: "ChemTech Industries",
            industry: "Chemicals",
            tier: "Strategic",
            totalSpend: 1890000,
            scores: {
              quality: 65,
              delivery: 70,
              price: 85,
              responsiveness: 68,
              compliance: 72
            },
            trend: "down",
            riskLevel: "high",
            lastReview: "2024-12-20",
            performanceHistory: [
              { month: "Jul", score: 78 },
              { month: "Aug", score: 76 },
              { month: "Sep", score: 74 },
              { month: "Oct", score: 72 },
              { month: "Nov", score: 70 },
              { month: "Dec", score: 72 }
            ]
          },
          {
            id: 8,
            name: "Premier Packaging Co",
            industry: "Packaging",
            tier: "Preferred",
            totalSpend: 650000,
            scores: {
              quality: 87,
              delivery: 89,
              price: 84,
              responsiveness: 86,
              compliance: 88
            },
            trend: "up",
            riskLevel: "low",
            lastReview: "2025-01-07",
            performanceHistory: [
              { month: "Jul", score: 83 },
              { month: "Aug", score: 84 },
              { month: "Sep", score: 85 },
              { month: "Oct", score: 86 },
              { month: "Nov", score: 87 },
              { month: "Dec", score: 87 }
            ]
          }
        ];

        const SupplierScorecardSystem = () => {
          const [suppliers, setSuppliers] = useState([]);
          const [selectedSupplier, setSelectedSupplier] = useState(null);
          const [view, setView] = useState('dashboard');
          const [filterTier, setFilterTier] = useState('all');
          const [filterRisk, setFilterRisk] = useState('all');
          const [searchTerm, setSearchTerm] = useState('');

          useEffect(() => {
            const loadData = async () => {
              try {
                const result = await window.storage.get('suppliers-data');
                if (result && result.value) {
                  setSuppliers(JSON.parse(result.value));
                } else {
                  setSuppliers(initialSuppliers);
                  await window.storage.set('suppliers-data', JSON.stringify(initialSuppliers));
                }
              } catch (error) {
                console.log('Loading initial data');
                setSuppliers(initialSuppliers);
              }
            };
            loadData();
          }, []);

          const calculateOverallScore = (scores) => {
            const weights = { quality: 0.3, delivery: 0.25, price: 0.2, responsiveness: 0.15, compliance: 0.1 };
            return Math.round(
              scores.quality * weights.quality +
              scores.delivery * weights.delivery +
              scores.price * weights.price +
              scores.responsiveness * weights.responsiveness +
              scores.compliance * weights.compliance
            );
          };

          const getScoreColor = (score) => {
            if (score >= 90) return '#10b981';
            if (score >= 80) return '#f59e0b';
            if (score >= 70) return '#f97316';
            return '#ef4444';
          };

          const getRiskColor = (risk) => {
            if (risk === 'low') return '#10b981';
            if (risk === 'medium') return '#f59e0b';
            return '#ef4444';
          };

          const filteredSuppliers = suppliers.filter(supplier => {
            const matchesTier = filterTier === 'all' || supplier.tier === filterTier;
            const matchesRisk = filterRisk === 'all' || supplier.riskLevel === filterRisk;
            const matchesSearch = supplier.name.toLowerCase().includes(searchTerm.toLowerCase()) ||
                                  supplier.industry.toLowerCase().includes(searchTerm.toLowerCase());
            return matchesTier && matchesRisk && matchesSearch;
          });

          const topPerformers = [...suppliers]
            .sort((a, b) => calculateOverallScore(b.scores) - calculateOverallScore(a.scores))
            .slice(0, 5);

          const atRiskSuppliers = suppliers.filter(s => s.riskLevel === 'high' || s.riskLevel === 'medium');

          const avgScores = {
            quality: Math.round(suppliers.reduce((sum, s) => sum + s.scores.quality, 0) / suppliers.length),
            delivery: Math.round(suppliers.reduce((sum, s) => sum + s.scores.delivery, 0) / suppliers.length),
            price: Math.round(suppliers.reduce((sum, s) => sum + s.scores.price, 0) / suppliers.length),
            responsiveness: Math.round(suppliers.reduce((sum, s) => sum + s.scores.responsiveness, 0) / suppliers.length),
            compliance: Math.round(suppliers.reduce((sum, s) => sum + s.scores.compliance, 0) / suppliers.length)
          };

          if (suppliers.length === 0) {
            return <div style={{ padding: '2rem', textAlign: 'center', color: '#e2e8f0' }}>Loading...</div>;
          }

          return (
            <div style={{
              minHeight: '100vh',
              background: 'linear-gradient(135deg, #0f172a 0%, #1e293b 100%)',
              fontFamily: '"Outfit", -apple-system, sans-serif',
              color: '#e2e8f0',
              padding: '2rem'
            }}>
              <style>{`
                @import url('https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800&family=Space+Mono:wght@400;700&display=swap');
                
                * { box-sizing: border-box; }
                
                .metric-card {
                  background: linear-gradient(135deg, #1e293b 0%, #334155 100%);
                  border-radius: 16px;
                  padding: 1.5rem;
                  border: 1px solid rgba(148, 163, 184, 0.1);
                  transition: all 0.3s ease;
                }
                
                .metric-card:hover {
                  transform: translateY(-2px);
                  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
                  border-color: rgba(251, 191, 36, 0.3);
                }
                
                .supplier-card {
                  background: linear-gradient(135deg, #1e293b 0%, #334155 100%);
                  border-radius: 16px;
                  padding: 1.5rem;
                  border: 1px solid rgba(148, 163, 184, 0.1);
                  transition: all 0.3s ease;
                  cursor: pointer;
                }
                
                .supplier-card:hover {
                  transform: translateY(-4px);
                  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4);
                  border-color: rgba(251, 191, 36, 0.5);
                }
                
                .score-circle {
                  width: 80px;
                  height: 80px;
                  border-radius: 50%;
                  display: flex;
                  align-items: center;
                  justify-content: center;
                  font-size: 1.5rem;
                  font-weight: 700;
                  font-family: 'Space Mono', monospace;
                  position: relative;
                  background: rgba(15, 23, 42, 0.6);
                }
                
                .nav-button {
                  background: transparent;
                  border: 1px solid rgba(148, 163, 184, 0.2);
                  color: #e2e8f0;
                  padding: 0.75rem 1.5rem;
                  border-radius: 8px;
                  cursor: pointer;
                  font-family: 'Outfit', sans-serif;
                  font-weight: 500;
                  transition: all 0.3s ease;
                  font-size: 0.95rem;
                }
                
                .nav-button:hover {
                  background: rgba(251, 191, 36, 0.1);
                  border-color: rgba(251, 191, 36, 0.5);
                  color: #fbbf24;
                }
                
                .nav-button.active {
                  background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);
                  border-color: #fbbf24;
                  color: #0f172a;
                  font-weight: 600;
                }
                
                .filter-button {
                  background: rgba(30, 41, 59, 0.6);
                  border: 1px solid rgba(148, 163, 184, 0.2);
                  color: #e2e8f0;
                  padding: 0.5rem 1rem;
                  border-radius: 6px;
                  cursor: pointer;
                  font-family: 'Outfit', sans-serif;
                  font-size: 0.875rem;
                  transition: all 0.3s ease;
                }
                
                .filter-button:hover {
                  background: rgba(251, 191, 36, 0.1);
                  border-color: rgba(251, 191, 36, 0.4);
                }
                
                .filter-button.active {
                  background: rgba(251, 191, 36, 0.2);
                  border-color: #fbbf24;
                  color: #fbbf24;
                }
                
                .search-input {
                  background: rgba(30, 41, 59, 0.6);
                  border: 1px solid rgba(148, 163, 184, 0.2);
                  color: #e2e8f0;
                  padding: 0.75rem 1rem;
                  padding-left: 2.5rem;
                  border-radius: 8px;
                  font-family: 'Outfit', sans-serif;
                  font-size: 0.95rem;
                  width: 100%;
                  transition: all 0.3s ease;
                }
                
                .search-input:focus {
                  outline: none;
                  border-color: #fbbf24;
                  background: rgba(30, 41, 59, 0.8);
                }
                
                .search-input::placeholder {
                  color: #64748b;
                }
                
                .badge {
                  display: inline-block;
                  padding: 0.25rem 0.75rem;
                  border-radius: 6px;
                  font-size: 0.75rem;
                  font-weight: 600;
                  text-transform: uppercase;
                  letter-spacing: 0.05em;
                }
                
                .score-bar {
                  height: 8px;
                  background: rgba(148, 163, 184, 0.2);
                  border-radius: 4px;
                  overflow: hidden;
                  position: relative;
                }
                
                .score-bar-fill {
                  height: 100%;
                  border-radius: 4px;
                  transition: width 0.6s ease;
                  background: linear-gradient(90deg, #10b981 0%, #34d399 100%);
                }
              `}</style>

              {/* Header */}
              <div style={{ marginBottom: '3rem' }}>
                <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '1rem' }}>
                  <div>
                    <h1 style={{
                      fontSize: '3rem',
                      fontWeight: '800',
                      margin: 0,
                      background: 'linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%)',
                      WebkitBackgroundClip: 'text',
                      WebkitTextFillColor: 'transparent',
                      letterSpacing: '-0.02em'
                    }}>
                      Supplier Intelligence
                    </h1>
                    <p style={{
                      fontSize: '1.1rem',
                      color: '#94a3b8',
                      margin: '0.5rem 0 0 0',
                      fontWeight: '400'
                    }}>
                      Strategic vendor performance & risk analytics
                    </p>
                  </div>
                  <div style={{ display: 'flex', gap: '1rem', alignItems: 'center' }}>
                    <button className="nav-button" onClick={() => setView('dashboard')} style={view === 'dashboard' ? { background: 'linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%)', borderColor: '#fbbf24', color: '#0f172a', fontWeight: '600' } : {}}>
                      Dashboard
                    </button>
                    <button className="nav-button" onClick={() => setView('suppliers')} style={view === 'suppliers' ? { background: 'linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%)', borderColor: '#fbbf24', color: '#0f172a', fontWeight: '600' } : {}}>
                      All Suppliers
                    </button>
                    <button className="nav-button" onClick={() => setView('comparison')} style={view === 'comparison' ? { background: 'linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%)', borderColor: '#fbbf24', color: '#0f172a', fontWeight: '600' } : {}}>
                      Compare
                    </button>
                  </div>
                </div>
              </div>

              {/* Rest of the component code continues from the original - Dashboard, Suppliers, Detail, and Comparison views */}
              {/* Due to length, I'll include key sections */}

              {view === 'dashboard' && (
                <>
                  <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(250px, 1fr))', gap: '1.5rem', marginBottom: '3rem' }}>
                    <div className="metric-card">
                      <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start', marginBottom: '1rem' }}>
                        <div>
                          <div style={{ fontSize: '0.875rem', color: '#94a3b8', textTransform: 'uppercase', letterSpacing: '0.05em', fontWeight: '600' }}>Total Suppliers</div>
                          <div style={{ fontSize: '2.5rem', fontWeight: '800', color: '#fbbf24', fontFamily: 'Space Mono, monospace', marginTop: '0.5rem' }}>{suppliers.length}</div>
                        </div>
                        <Award size={32} color="#fbbf24" />
                      </div>
                      <div style={{ fontSize: '0.875rem', color: '#64748b' }}>
                        {suppliers.filter(s => s.tier === 'Strategic').length} Strategic • {suppliers.filter(s => s.tier === 'Preferred').length} Preferred
                      </div>
                    </div>

                    <div className="metric-card">
                      <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start', marginBottom: '1rem' }}>
                        <div>
                          <div style={{ fontSize: '0.875rem', color: '#94a3b8', textTransform: 'uppercase', letterSpacing: '0.05em', fontWeight: '600' }}>Avg Performance</div>
                          <div style={{ fontSize: '2.5rem', fontWeight: '800', color: '#10b981', fontFamily: 'Space Mono, monospace', marginTop: '0.5rem' }}>
                            {Math.round(suppliers.reduce((sum, s) => sum + calculateOverallScore(s.scores), 0) / suppliers.length)}
                          </div>
                        </div>
                        <TrendingUp size={32} color="#10b981" />
                      </div>
                      <div style={{ fontSize: '0.875rem', color: '#64748b' }}>
                        Across all performance categories
                      </div>
                    </div>

                    <div className="metric-card">
                      <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start', marginBottom: '1rem' }}>
                        <div>
                          <div style={{ fontSize: '0.875rem', color: '#94a3b8', textTransform: 'uppercase', letterSpacing: '0.05em', fontWeight: '600' }}>At Risk</div>
                          <div style={{ fontSize: '2.5rem', fontWeight: '800', color: '#ef4444', fontFamily: 'Space Mono, monospace', marginTop: '0.5rem' }}>{atRiskSuppliers.length}</div>
                        </div>
                        <AlertTriangle size={32} color="#ef4444" />
                      </div>
                      <div style={{ fontSize: '0.875rem', color: '#64748b' }}>
                        Require immediate attention
                      </div>
                    </div>

                    <div className="metric-card">
                      <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start', marginBottom: '1rem' }}>
                        <div>
                          <div style={{ fontSize: '0.875rem', color: '#94a3b8', textTransform: 'uppercase', letterSpacing: '0.05em', fontWeight: '600' }}>Total Spend</div>
                          <div style={{ fontSize: '2.5rem', fontWeight: '800', color: '#fbbf24', fontFamily: 'Space Mono, monospace', marginTop: '0.5rem' }}>
                            ${(suppliers.reduce((sum, s) => sum + s.totalSpend, 0) / 1000000).toFixed(1)}M
                          </div>
                        </div>
                        <Star size={32} color="#fbbf24" />
                      </div>
                      <div style={{ fontSize: '0.875rem', color: '#64748b' }}>
                        Annual procurement value
                      </div>
                    </div>
                  </div>

                  <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '2rem', marginBottom: '3rem' }}>
                    <div className="metric-card">
                      <h3 style={{ fontSize: '1.25rem', fontWeight: '700', marginBottom: '1.5rem', color: '#fbbf24' }}>Average Performance by Category</h3>
                      <ResponsiveContainer width="100%" height={300}>
                        <BarChart data={[
                          { category: 'Quality', score: avgScores.quality },
                          { category: 'Delivery', score: avgScores.delivery },
                          { category: 'Price', score: avgScores.price },
                          { category: 'Response', score: avgScores.responsiveness },
                          { category: 'Compliance', score: avgScores.compliance }
                        ]}>
                          <CartesianGrid strokeDasharray="3 3" stroke="#334155" />
                          <XAxis dataKey="category" stroke="#94a3b8" style={{ fontSize: '0.875rem' }} />
                          <YAxis stroke="#94a3b8" style={{ fontSize: '0.875rem' }} />
                          <Tooltip 
                            contentStyle={{ background: '#1e293b', border: '1px solid #334155', borderRadius: '8px', color: '#e2e8f0' }}
                          />
                          <Bar dataKey="score" fill="#fbbf24" radius={[8, 8, 0, 0]} />
                        </BarChart>
                      </ResponsiveContainer>
                    </div>

                    <div className="metric-card">
                      <h3 style={{ fontSize: '1.25rem', fontWeight: '700', marginBottom: '1.5rem', color: '#fbbf24' }}>Top 5 Performers</h3>
                      <div style={{ display: 'flex', flexDirection: 'column', gap: '1rem' }}>
                        {topPerformers.map((supplier, index) => (
                          <div key={supplier.id} style={{ display: 'flex', alignItems: 'center', gap: '1rem' }}>
                            <div style={{
                              width: '32px',
                              height: '32px',
                              borderRadius: '50%',
                              background: index === 0 ? 'linear-gradient(135deg, #fbbf24, #f59e0b)' : 'rgba(148, 163, 184, 0.2)',
                              display: 'flex',
                              alignItems: 'center',
                              justifyContent: 'center',
                              fontWeight: '700',
                              fontSize: '0.875rem',
                              color: index === 0 ? '#0f172a' : '#e2e8f0'
                            }}>
                              {index + 1}
                            </div>
                            <div style={{ flex: 1 }}>
                              <div style={{ fontSize: '0.95rem', fontWeight: '600', marginBottom: '0.25rem' }}>{supplier.name}</div>
                              <div className="score-bar">
                                <div className="score-bar-fill" style={{
                                  width: `${calculateOverallScore(supplier.scores)}%`,
                                  background: `linear-gradient(90deg, ${getScoreColor(calculateOverallScore(supplier.scores))}, ${getScoreColor(calculateOverallScore(supplier.scores))}dd)`
                                }}></div>
                              </div>
                            </div>
                            <div style={{
                              fontSize: '1.25rem',
                              fontWeight: '700',
                              fontFamily: 'Space Mono, monospace',
                              color: getScoreColor(calculateOverallScore(supplier.scores))
                            }}>
                              {calculateOverallScore(supplier.scores)}
                            </div>
                          </div>
                        ))}
                      </div>
                    </div>
                  </div>

                  {atRiskSuppliers.length > 0 && (
                    <div className="metric-card" style={{ marginBottom: '2rem' }}>
                      <div style={{ display: 'flex', alignItems: 'center', gap: '0.75rem', marginBottom: '1.5rem' }}>
                        <AlertTriangle size={24} color="#ef4444" />
                        <h3 style={{ fontSize: '1.25rem', fontWeight: '700', margin: 0, color: '#ef4444' }}>
                          Suppliers Requiring Attention
                        </h3>
                      </div>
                      <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fill, minmax(300px, 1fr))', gap: '1rem' }}>
                        {atRiskSuppliers.map(supplier => (
                          <div key={supplier.id} style={{
                            background: 'rgba(239, 68, 68, 0.1)',
                            border: '1px solid rgba(239, 68, 68, 0.3)',
                            borderRadius: '12px',
                            padding: '1rem'
                          }}>
                            <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start', marginBottom: '0.75rem' }}>
                              <div>
                                <div style={{ fontSize: '1rem', fontWeight: '600', marginBottom: '0.25rem' }}>{supplier.name}</div>
                                <div style={{ fontSize: '0.875rem', color: '#94a3b8' }}>{supplier.industry}</div>
                              </div>
                              <span className="badge" style={{
                                background: getRiskColor(supplier.riskLevel),
                                color: '#0f172a'
                              }}>
                                {supplier.riskLevel} risk
                              </span>
                            </div>
                            <div style={{ fontSize: '0.875rem', color: '#e2e8f0' }}>
                              Overall Score: <span style={{ fontWeight: '700', color: getScoreColor(calculateOverallScore(supplier.scores)) }}>
                                {calculateOverallScore(supplier.scores)}
                              </span>
                            </div>
                          </div>
                        ))}
                      </div>
                    </div>
                  )}
                </>
              )}

              {view === 'suppliers' && (
                <>
                  <div style={{ display: 'flex', gap: '1rem', marginBottom: '2rem', flexWrap: 'wrap', alignItems: 'center' }}>
                    <div style={{ position: 'relative', flex: '1', minWidth: '300px' }}>
                      <Search size={20} style={{ position: 'absolute', left: '1rem', top: '50%', transform: 'translateY(-50%)', color: '#64748b' }} />
                      <input
                        type="text"
                        placeholder="Search suppliers..."
                        className="search-input"
                        value={searchTerm}
                        onChange={(e) => setSearchTerm(e.target.value)}
                      />
                    </div>
                    <div style={{ display: 'flex', gap: '0.5rem', alignItems: 'center' }}>
                      <Filter size={18} color="#94a3b8" />
                      <span style={{ fontSize: '0.875rem', color: '#94a3b8', fontWeight: '600' }}>Tier:</span>
                      {['all', 'Strategic', 'Preferred', 'Approved'].map(tier => (
                        <button
                          key={tier}
                          className={`filter-button ${filterTier === tier ? 'active' : ''}`}
                          onClick={() => setFilterTier(tier)}
                        >
                          {tier === 'all' ? 'All' : tier}
                        </button>
                      ))}
                    </div>
                    <div style={{ display: 'flex', gap: '0.5rem', alignItems: 'center' }}>
                      <span style={{ fontSize: '0.875rem', color: '#94a3b8', fontWeight: '600' }}>Risk:</span>
                      {['all', 'low', 'medium', 'high'].map(risk => (
                        <button
                          key={risk}
                          className={`filter-button ${filterRisk === risk ? 'active' : ''}`}
                          onClick={() => setFilterRisk(risk)}
                        >
                          {risk === 'all' ? 'All' : risk.charAt(0).toUpperCase() + risk.slice(1)}
                        </button>
                      ))}
                    </div>
                  </div>

                  <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fill, minmax(400px, 1fr))', gap: '1.5rem' }}>
                    {filteredSuppliers.map(supplier => (
                      <div
                        key={supplier.id}
                        className="supplier-card"
                        onClick={() => {
                          setSelectedSupplier(supplier);
                          setView('detail');
                        }}
                      >
                        <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start', marginBottom: '1rem' }}>
                          <div style={{ flex: 1 }}>
                            <h3 style={{ fontSize: '1.25rem', fontWeight: '700', margin: '0 0 0.5rem 0', color: '#fbbf24' }}>
                              {supplier.name}
                            </h3>
                            <div style={{ fontSize: '0.875rem', color: '#94a3b8', marginBottom: '0.5rem' }}>{supplier.industry}</div>
                            <div style={{ display: 'flex', gap: '0.5rem', flexWrap: 'wrap' }}>
                              <span className="badge" style={{
                                background: supplier.tier === 'Strategic' ? 'rgba(251, 191, 36, 0.2)' : 'rgba(148, 163, 184, 0.2)',
                                color: supplier.tier === 'Strategic' ? '#fbbf24' : '#94a3b8'
                              }}>
                                {supplier.tier}
                              </span>
                              <span className="badge" style={{
                                background: `${getRiskColor(supplier.riskLevel)}33`,
                                color: getRiskColor(supplier.riskLevel)
                              }}>
                                {supplier.riskLevel} risk
                              </span>
                            </div>
                          </div>
                          <div className="score-circle" style={{
                            border: `4px solid ${getScoreColor(calculateOverallScore(supplier.scores))}`,
                            color: getScoreColor(calculateOverallScore(supplier.scores))
                          }}>
                            {calculateOverallScore(supplier.scores)}
                          </div>
                        </div>

                        <div style={{ borderTop: '1px solid rgba(148, 163, 184, 0.1)', paddingTop: '1rem', marginTop: '1rem' }}>
                          <div style={{ display: 'grid', gridTemplateColumns: 'repeat(2, 1fr)', gap: '0.75rem', marginBottom: '1rem' }}>
                            <div>
                              <div style={{ fontSize: '0.75rem', color: '#64748b', marginBottom: '0.25rem' }}>Quality</div>
                              <div className="score-bar">
                                <div className="score-bar-fill" style={{ width: `${supplier.scores.quality}%` }}></div>
                              </div>
                            </div>
                            <div>
                              <div style={{ fontSize: '0.75rem', color: '#64748b', marginBottom: '0.25rem' }}>Delivery</div>
                              <div className="score-bar">
                                <div className="score-bar-fill" style={{ width: `${supplier.scores.delivery}%` }}></div>
                              </div>
                            </div>
                            <div>
                              <div style={{ fontSize: '0.75rem', color: '#64748b', marginBottom: '0.25rem' }}>Price</div>
                              <div className="score-bar">
                                <div className="score-bar-fill" style={{ width: `${supplier.scores.price}%` }}></div>
                              </div>
                            </div>
                            <div>
                              <div style={{ fontSize: '0.75rem', color: '#64748b', marginBottom: '0.25rem' }}>Response</div>
                              <div className="score-bar">
                                <div className="score-bar-fill" style={{ width: `${supplier.scores.responsiveness}%` }}></div>
                              </div>
                            </div>
                          </div>
                          <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', fontSize: '0.875rem', color: '#94a3b8' }}>
                            <span>Annual Spend: <span style={{ fontWeight: '600', color: '#e2e8f0' }}>
                              ${(supplier.totalSpend / 1000).toFixed(0)}K
                            </span></span>
                            <span style={{ display: 'flex', alignItems: 'center', gap: '0.25rem' }}>
                              {supplier.trend === 'up' && <TrendingUp size={16} color="#10b981" />}
                              {supplier.trend === 'down' && <TrendingDown size={16} color="#ef4444" />}
                              {supplier.trend}
                            </span>
                          </div>
                        </div>
                      </div>
                    ))}
                  </div>
                </>
              )}

              {view === 'detail' && selectedSupplier && (
                <>
                  <button
                    onClick={() => setView('suppliers')}
                    style={{
                      background: 'transparent',
                      border: 'none',
                      color: '#fbbf24',
                      fontSize: '0.95rem',
                      cursor: 'pointer',
                      marginBottom: '2rem',
                      display: 'flex',
                      alignItems: 'center',
                      gap: '0.5rem',
                      padding: '0.5rem',
                      fontFamily: 'Outfit, sans-serif',
                      fontWeight: '500'
                    }}
                  >
                    ← Back to Suppliers
                  </button>

                  <div style={{ display: 'grid', gridTemplateColumns: '2fr 1fr', gap: '2rem', marginBottom: '2rem' }}>
                    <div className="metric-card">
                      <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start', marginBottom: '2rem' }}>
                        <div>
                          <h2 style={{ fontSize: '2rem', fontWeight: '800', margin: '0 0 0.5rem 0', color: '#fbbf24' }}>
                            {selectedSupplier.name}
                          </h2>
                          <div style={{ fontSize: '1rem', color: '#94a3b8', marginBottom: '1rem' }}>{selectedSupplier.industry}</div>
                          <div style={{ display: 'flex', gap: '0.75rem', flexWrap: 'wrap' }}>
                            <span className="badge" style={{
                              background: selectedSupplier.tier === 'Strategic' ? 'rgba(251, 191, 36, 0.2)' : 'rgba(148, 163, 184, 0.2)',
                              color: selectedSupplier.tier === 'Strategic' ? '#fbbf24' : '#94a3b8'
                            }}>
                              {selectedSupplier.tier} Tier
                            </span>
                            <span className="badge" style={{
                              background: `${getRiskColor(selectedSupplier.riskLevel)}33`,
                              color: getRiskColor(selectedSupplier.riskLevel)
                            }}>
                              {selectedSupplier.riskLevel} risk
                            </span>
                          </div>
                        </div>
                        <div className="score-circle" style={{
                          width: '100px',
                          height: '100px',
                          fontSize: '2rem',
                          border: `5px solid ${getScoreColor(calculateOverallScore(selectedSupplier.scores))}`,
                          color: getScoreColor(calculateOverallScore(selectedSupplier.scores))
                        }}>
                          {calculateOverallScore(selectedSupplier.scores)}
                        </div>
                      </div>

                      <div style={{ borderTop: '1px solid rgba(148, 163, 184, 0.1)', paddingTop: '1.5rem' }}>
                        <h3 style={{ fontSize: '1.1rem', fontWeight: '700', marginBottom: '1.5rem', color: '#e2e8f0' }}>Performance Breakdown</h3>
                        <div style={{ display: 'flex', flexDirection: 'column', gap: '1.25rem' }}>
                          {Object.entries(selectedSupplier.scores).map(([key, value]) => (
                            <div key={key}>
                              <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: '0.5rem' }}>
                                <span style={{ fontSize: '0.95rem', fontWeight: '600', textTransform: 'capitalize' }}>{key}</span>
                                <span style={{ fontSize: '0.95rem', fontWeight: '700', fontFamily: 'Space Mono, monospace', color: getScoreColor(value) }}>
                                  {value}
                                </span>
                              </div>
                              <div className="score-bar" style={{ height: '10px' }}>
                                <div className="score-bar-fill" style={{
                                  width: `${value}%`,
                                  background: `linear-gradient(90deg, ${getScoreColor(value)}, ${getScoreColor(value)}dd)`
                                }}></div>
                              </div>
                            </div>
                          ))}
                        </div>
                      </div>
                    </div>

                    <div style={{ display: 'flex', flexDirection: 'column', gap: '1.5rem' }}>
                      <div className="metric-card">
                        <div style={{ fontSize: '0.875rem', color: '#94a3b8', textTransform: 'uppercase', letterSpacing: '0.05em', fontWeight: '600', marginBottom: '0.5rem' }}>
                          Annual Spend
                        </div>
                        <div style={{ fontSize: '2rem', fontWeight: '800', color: '#fbbf24', fontFamily: 'Space Mono, monospace' }}>
                          ${(selectedSupplier.totalSpend / 1000000).toFixed(2)}M
                        </div>
                      </div>

                      <div className="metric-card">
                        <div style={{ fontSize: '0.875rem', color: '#94a3b8', textTransform: 'uppercase', letterSpacing: '0.05em', fontWeight: '600', marginBottom: '0.5rem' }}>
                          Performance Trend
                        </div>
                        <div style={{ display: 'flex', alignItems: 'center', gap: '0.75rem' }}>
                          {selectedSupplier.trend === 'up' && <TrendingUp size={32} color="#10b981" />}
                          {selectedSupplier.trend === 'down' && <TrendingDown size={32} color="#ef4444" />}
                          {selectedSupplier.trend === 'stable' && <div style={{ width: '32px', height: '4px', background: '#94a3b8', borderRadius: '2px' }}></div>}
                          <span style={{ fontSize: '1.5rem', fontWeight: '700', textTransform: 'capitalize' }}>
                            {selectedSupplier.trend}
                          </span>
                        </div>
                      </div>

                      <div className="metric-card">
                        <div style={{ fontSize: '0.875rem', color: '#94a3b8', textTransform: 'uppercase', letterSpacing: '0.05em', fontWeight: '600', marginBottom: '0.5rem' }}>
                          Last Review
                        </div>
                        <div style={{ fontSize: '1.1rem', fontWeight: '600' }}>
                          {new Date(selectedSupplier.lastReview).toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' })}
                        </div>
                      </div>
                    </div>
                  </div>

                  <div className="metric-card">
                    <h3 style={{ fontSize: '1.25rem', fontWeight: '700', marginBottom: '1.5rem', color: '#fbbf24' }}>
                      6-Month Performance Trend
                    </h3>
                    <ResponsiveContainer width="100%" height={300}>
                      <LineChart data={selectedSupplier.performanceHistory}>
                        <CartesianGrid strokeDasharray="3 3" stroke="#334155" />
                        <XAxis dataKey="month" stroke="#94a3b8" style={{ fontSize: '0.875rem' }} />
                        <YAxis stroke="#94a3b8" style={{ fontSize: '0.875rem' }} domain={[0, 100]} />
                        <Tooltip
                          contentStyle={{ background: '#1e293b', border: '1px solid #334155', borderRadius: '8px', color: '#e2e8f0' }}
                        />
                        <Line
                          type="monotone"
                          dataKey="score"
                          stroke="#fbbf24"
                          strokeWidth={3}
                          dot={{ fill: '#fbbf24', r: 6 }}
                          activeDot={{ r: 8 }}
                        />
                      </LineChart>
                    </ResponsiveContainer>
                  </div>
                </>
              )}

              {view === 'comparison' && (
                <>
                  <div className="metric-card" style={{ marginBottom: '2rem' }}>
                    <h3 style={{ fontSize: '1.5rem', fontWeight: '700', marginBottom: '1.5rem', color: '#fbbf24' }}>
                      Supplier Performance Comparison
                    </h3>
                    <ResponsiveContainer width="100%" height={400}>
                      <RadarChart data={[
                        {
                          category: 'Quality',
                          ...Object.fromEntries(suppliers.slice(0, 5).map((s, i) => [`supplier${i}`, s.scores.quality]))
                        },
                        {
                          category: 'Delivery',
                          ...Object.fromEntries(suppliers.slice(0, 5).map((s, i) => [`supplier${i}`, s.scores.delivery]))
                        },
                        {
                          category: 'Price',
                          ...Object.fromEntries(suppliers.slice(0, 5).map((s, i) => [`supplier${i}`, s.scores.price]))
                        },
                        {
                          category: 'Response',
                          ...Object.fromEntries(suppliers.slice(0, 5).map((s, i) => [`supplier${i}`, s.scores.responsiveness]))
                        },
                        {
                          category: 'Compliance',
                          ...Object.fromEntries(suppliers.slice(0, 5).map((s, i) => [`supplier${i}`, s.scores.compliance]))
                        }
                      ]}>
                        <PolarGrid stroke="#334155" />
                        <PolarAngleAxis dataKey="category" stroke="#94a3b8" style={{ fontSize: '0.875rem' }} />
                        <PolarRadiusAxis angle={90} domain={[0, 100]} stroke="#94a3b8" />
                        {suppliers.slice(0, 5).map((supplier, index) => (
                          <Radar
                            key={supplier.id}
                            name={supplier.name}
                            dataKey={`supplier${index}`}
                            stroke={['#fbbf24', '#10b981', '#3b82f6', '#8b5cf6', '#ec4899'][index]}
                            fill={['#fbbf24', '#10b981', '#3b82f6', '#8b5cf6', '#ec4899'][index]}
                            fillOpacity={0.3}
                            strokeWidth={2}
                          />
                        ))}
                        <Legend
                          wrapperStyle={{ paddingTop: '20px' }}
                          iconType="circle"
                        />
                      </RadarChart>
                    </ResponsiveContainer>
                  </div>

                  <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fill, minmax(250px, 1fr))', gap: '1.5rem' }}>
                    {suppliers.slice(0, 5).map(supplier => (
                      <div key={supplier.id} className="supplier-card" onClick={() => {
                        setSelectedSupplier(supplier);
                        setView('detail');
                      }}>
                        <h4 style={{ fontSize: '1.1rem', fontWeight: '700', marginBottom: '1rem', color: '#fbbf24' }}>
                          {supplier.name}
                        </h4>
                        <div style={{ display: 'flex', flexDirection: 'column', gap: '0.75rem' }}>
                          <div style={{ display: 'flex', justifyContent: 'space-between' }}>
                            <span style={{ fontSize: '0.875rem' }}>Overall</span>
                            <span style={{ fontWeight: '700', fontFamily: 'Space Mono, monospace', color: getScoreColor(calculateOverallScore(supplier.scores)) }}>
                              {calculateOverallScore(supplier.scores)}
                            </span>
                          </div>
                          <div style={{ display: 'flex', justifyContent: 'space-between' }}>
                            <span style={{ fontSize: '0.875rem' }}>Quality</span>
                            <span style={{ fontWeight: '600', fontFamily: 'Space Mono, monospace' }}>{supplier.scores.quality}</span>
                          </div>
                          <div style={{ display: 'flex', justifyContent: 'space-between' }}>
                            <span style={{ fontSize: '0.875rem' }}>Delivery</span>
                            <span style={{ fontWeight: '600', fontFamily: 'Space Mono, monospace' }}>{supplier.scores.delivery}</span>
                          </div>
                          <div style={{ display: 'flex', justifyContent: 'space-between' }}>
                            <span style={{ fontSize: '0.875rem' }}>Price</span>
                            <span style={{ fontWeight: '600', fontFamily: 'Space Mono, monospace' }}>{supplier.scores.price}</span>
                          </div>
                        </div>
                      </div>
                    ))}
                  </div>
                </>
              )}
            </div>
          );
        };

        // Render the app
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<SupplierScorecardSystem />);
    </script>
</body>
</html>